<!doctype html>
<html>
  <head>
    <title>Socket test</title>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <script>
      var socket = io.connect('http://'+location.host);

      function updatePosition(ship) {
        status = 'pos.x: ' + ship.position.x
          + ' pos.y: ' + ship.position.y
          + ' pos.z: ' + ship.position.z
          + ' vel.x: ' + ship.velocity.x
          + ' vel.y: ' + ship.velocity.y
          + ' vel.z: ' + ship.velocity.z
          + ' ang.x: ' + ship.angularVelocity.x
          + ' ang.y: ' + ship.angularVelocity.y
          + ' ang.z: ' + ship.angularVelocity.z;
        $('#status').html(status);
      }

      $(function() {
        socket.on('openspace.loop', function(ship) {
          updatePosition(ship);
        });

        $('#up').click(function() {
          socket.emit('ship.noseUp', {shipId: 12345});
        });

        $('#down').click(function() {
          socket.emit('ship.noseDown', {shipId: 12345});
        });

        $('#rollLeft').click(function() {
          socket.emit('ship.rollLeft', {shipId: 12345});
        });

        $('#rollRight').click(function() {
          socket.emit('ship.rollRight', {shipId: 12345});
        });

        $('#pivotLeft').click(function() {
          socket.emit('ship.pivotLeft', {shipId: 12345});
        });

        $('#pivotRight').click(function() {
          socket.emit('ship.pivotRight', {shipId: 12345});
        });

        $('#thrust').click(function() {
          socket.emit('ship.thrust', {shipId: 12345});
        });



      });

    </script>



  </head>

  <body>

    <h1>Socket tests</h1>

    <div id="status"></div>
    
    <div>
    <button id="up">noseUp</button>
    <button id="down">noseDown</button>
    </div>
  
    <div>
      <button id="rollLeft">rollLeft</button>
      <button id="rollRight">rollRight</button>
    </div>

    <div>
      <button id="pivotLeft">pivotLeft</button>
      <button id="pivotRight">pivotRight</button>
    </div>
    
    <div>
      <button id="thrust">thrust</button>
    </div>

    


  </body>
</html>
